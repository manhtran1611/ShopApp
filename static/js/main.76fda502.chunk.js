(this["webpackJsonpshop-app-1"]=this["webpackJsonpshop-app-1"]||[]).push([[0],{180:function(e,t,n){},220:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(21),i=n.n(c),s=(n(180),n(20)),o=n(25),u=n(8),l=n(23),d=n(17),j=n(90),b=function(){return Object(j.b)()},p=j.c,m=n(11),f=n.n(m),h=n(24),x=n(26),O=n(153),g={apiURL:"https://shop-app-api-manhtran.herokuapp.com",publicURL:"/ShopApp"},v=n.n(O).a.create({baseURL:"".concat(g.apiURL,"/api/v1/"),headers:{"Content-type":"application/json"}}),y=n(55),k=n(56),w=new(function(){function e(){Object(y.a)(this,e)}return Object(k.a)(e,[{key:"getAllProduct",value:function(e){return v.get("products?page=".concat(e))}},{key:"getProductById",value:function(e){return v.get("products/".concat(e))}},{key:"findProducts",value:function(e){return v.get("products?".concat(e.query,"=").concat(e.value,"&page=").concat(e.page))}},{key:"addProduct",value:function(e){return v.post("/products",e)}},{key:"updateProduct",value:function(e,t){return v.put("/products/".concat(e),t)}},{key:"deleteProduct",value:function(e){return v.delete("/products/".concat(e))}},{key:"getReviews",value:function(e){return v.get("products/".concat(e,"/reviews"))}},{key:"postReview",value:function(e,t){return v.post("/products/".concat(e),t)}},{key:"updateReview",value:function(e,t,n){return v.put("products/".concat(e,"/reviews/").concat(t),n)}},{key:"deleteReview",value:function(e,t){return v.delete("products/".concat(e,"/reviews/").concat(t))}},{key:"checkoutCart",value:function(e){return v.post("/cart",e)}},{key:"registerUser",value:function(e){return v.post("/user/register",e)}},{key:"loginUser",value:function(e){return v.post("/user/login",e)}},{key:"logoutUser",value:function(){return v.post("/user/logout")}}]),e}()),N=Object(x.c)({selectId:function(e){return e._id}}),C=N.getInitialState({status:"idle",error:void 0}),S=Object(x.b)("user/register",function(){var e=Object(h.a)(f.a.mark((function e(t,n){var r,a,c,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,w.registerUser(t);case 4:return a=e.sent,c=a.data.token,v.defaults.headers.common={authorization:c},e.abrupt("return",a.data);case 10:if(e.prev=10,e.t0=e.catch(1),(i=e.t0).response){e.next=15;break}throw e.t0;case 15:return e.abrupt("return",r(i.response.data));case 16:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}()),R=Object(x.b)("user/login",function(){var e=Object(h.a)(f.a.mark((function e(t,n){var r,a,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,w.loginUser(t);case 4:return a=e.sent,v.defaults.headers.common={authorization:a.data.token},e.abrupt("return",a.data);case 9:if(e.prev=9,e.t0=e.catch(1),(c=e.t0).response){e.next=14;break}throw e.t0;case 14:return console.log(c.response.data),e.abrupt("return",r(c.response.data));case 16:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()),I=Object(x.b)("user/logout",Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.logoutUser();case 2:return t=e.sent,console.log(t.data),e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})))),W=Object(x.d)({name:"user",initialState:C,reducers:{},extraReducers:function(e){e.addCase(S.fulfilled,(function(e,t){e.status="succeeded",N.addOne(e,t.payload.user)})).addCase(S.rejected,(function(e,t){t.payload?e.error=t.payload.error:e.error=t.error.message})).addCase(R.fulfilled,(function(e,t){e.status="succeeded",N.addOne(e,t.payload.user),console.log(e)})).addCase(R.rejected,(function(e,t){t.payload?e.error=t.payload.error:e.error=t.error.message})).addCase(I.fulfilled,(function(e,t){e.status="succeeded",v.defaults.headers.common={authorization:""},e.status="idle",N.removeAll(e)})).addCase(I.rejected,(function(e,t){e.status="failed",e.error=t.error.message,e.status="idle"}))}}).reducer,P=N.getSelectors((function(e){return e.userReducer})).selectAll,T=n(94),D=Object(T.a)((function(e){return e.cartReducer.items}),(function(e){var t=0;for(var n in e)t+=e[n];return t})),z=Object(T.a)((function(e){return e.cartReducer.items}),(function(e){return e.productsReducer.entities}),(function(e,t){var n=0;for(var r in e){var a;n+=(null===(a=t[r])||void 0===a?void 0:a.price)*e[r]}return n})),F=Object(x.d)({name:"cart",initialState:{items:{},checkoutState:"idle",errorMessage:""},reducers:{addToCart:function(e,t){var n=t.payload;e.items[n]?e.items[n]++:e.items[n]=1},removeFromCart:function(e,t){delete e.items[t.payload]},updateQuantity:function(e,t){var n=t.payload,r=n.id,a=n.quantity;e.items[r]=a}},extraReducers:function(e){e.addCase("cart/checkout/pending",(function(e,t){e.checkoutState="pending",e.items={}})).addCase("cart/checkout/fulfilled",(function(e,t){e.checkoutState="idle"}))}});var B=F.actions,A=B.addToCart,q=B.removeFromCart,U=B.updateQuantity,L=F.reducer,E=n(298),M=n(313),_=n(315),Q=n(227),J=n(102),V=n.n(J),Y=n(121),$=n.n(Y),H=n(294),G=n(119),K=n.n(G),X=n(120),Z=n.n(X),ee=n(285),te=n(320),ne=n(2),re=Object(ee.a)((function(e){return Object(te.a)({links:{textDecoration:"none",display:"flex",alignItems:"center"},greeting:{fontSize:"1.25em"},username:{fontStyle:"bold",margin:"0.5em",color:"blue"},iconWrapper:{display:"flex",alignItems:"center"},icon:{color:"#ffffff"},menu:{background:"linear-gradient(to right, #F37335, #FDC830)",display:"flex",flexDirection:"column"},sectionDesktop:Object(u.a)({display:"none"},e.breakpoints.up("md"),{display:"flex",justifyContent:"space-around",alignItems:"center",margin:"1em"}),sectionMobile:Object(u.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})})})),ae=function(){var e=re(),t=p(P)[0].name,n=p(D),a=Object(r.useState)(null),c=Object(d.a)(a,2),i=c[0],s=c[1],o=Boolean(i),u=Object(ne.jsx)(M.a,{anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:o,onClose:function(){s(null)},children:Object(ne.jsxs)(_.a,{className:e.menu,children:[Object(ne.jsx)(l.b,{to:"/products/new",className:e.links,children:Object(ne.jsx)(H.a,{children:Object(ne.jsx)(K.a,{className:e.icon})})}),Object(ne.jsx)(l.b,{to:"/cart",className:e.links,children:Object(ne.jsx)(H.a,{children:Object(ne.jsx)(E.a,{badgeContent:n,color:"secondary",children:Object(ne.jsx)(Z.a,{className:e.icon})})})}),Object(ne.jsx)(l.b,{to:"/user/logout",className:e.links,children:Object(ne.jsx)(H.a,{className:e.iconWrapper,children:Object(ne.jsx)($.a,{className:e.icon})})})]})});return Object(ne.jsxs)("div",{children:[Object(ne.jsxs)("section",{className:e.sectionDesktop,children:[Object(ne.jsx)(l.b,{to:"/products/new",className:e.links,children:Object(ne.jsx)(H.a,{children:Object(ne.jsx)(K.a,{className:e.icon})})}),Object(ne.jsx)(l.b,{to:"/cart",className:e.links,children:Object(ne.jsx)(H.a,{children:Object(ne.jsx)(E.a,{badgeContent:n,color:"secondary",children:Object(ne.jsx)(Z.a,{className:e.icon})})})}),Object(ne.jsxs)(Q.a,{className:e.greeting,component:"span",children:["Welcome",Object(ne.jsx)(Q.a,{className:e.username,component:"span",children:t})]}),Object(ne.jsx)(l.b,{to:"/user/logout",className:e.links,children:Object(ne.jsx)(H.a,{"aria-label":"log out",className:e.iconWrapper,children:Object(ne.jsx)($.a,{className:e.icon})})})]}),Object(ne.jsxs)("section",{className:e.sectionMobile,children:[Object(ne.jsx)(H.a,{size:"medium",onClick:function(e){s(e.currentTarget)},children:Object(ne.jsx)(V.a,{})}),u]})]})},ce=n(123),ie=n.n(ce),se=n(122),oe=n.n(se),ue=Object(ee.a)((function(e){return Object(te.a)({links:{textDecoration:"none"},icon:{fill:"snow",padding:"0"},menu:{background:"linear-gradient(to right, #F37335, #FDC830)",display:"flex",flexDirection:"column"},sectionDesktop:Object(u.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(u.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})})})),le=function(){var e=ue(),t=Object(r.useState)(null),n=Object(d.a)(t,2),a=n[0],c=n[1],i=Boolean(a),s=Object(ne.jsx)(M.a,{anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:i,onClose:function(){c(null)},children:Object(ne.jsxs)(_.a,{className:e.menu,children:[Object(ne.jsx)(l.b,{to:"/user/register",className:e.links,children:Object(ne.jsx)(H.a,{children:Object(ne.jsx)(oe.a,{className:e.icon})})}),Object(ne.jsx)(l.b,{to:"/user/login",className:e.links,children:Object(ne.jsx)(H.a,{children:Object(ne.jsx)(ie.a,{className:e.icon})})})]})});return Object(ne.jsxs)("section",{children:[Object(ne.jsxs)("div",{className:e.sectionDesktop,children:[Object(ne.jsx)(l.b,{to:"/user/register",className:e.links,children:Object(ne.jsx)(H.a,{children:Object(ne.jsx)(oe.a,{className:e.icon})})}),Object(ne.jsx)(l.b,{to:"/user/login",className:e.links,children:Object(ne.jsx)(H.a,{edge:"end",children:Object(ne.jsx)(ie.a,{className:e.icon})})})]}),Object(ne.jsx)("div",{className:e.sectionMobile,children:Object(ne.jsx)(H.a,{size:"medium",onClick:function(e){c(e.currentTarget)},children:Object(ne.jsx)(V.a,{})})}),s]})},de=n(299),je=n(300),be=n(74),pe=n.n(be),me=Object(ee.a)((function(e){return Object(te.a)({container:{background:"linear-gradient(to right, #F37335, #FDC830)"},grow:{flexGrow:1},menuButton:{color:"white"},title:Object(u.a)({display:"none"},e.breakpoints.up("sm"),{display:"flex",justifyContent:"center",color:"white"}),links:{textDecoration:"none",display:"flex",alignItems:"center",justifyContent:"center"}})})),fe=function(){var e=me(),t=p(P);return Object(ne.jsx)(de.a,{position:"static",className:e.container,children:Object(ne.jsxs)(je.a,{children:[Object(ne.jsxs)(l.b,{to:"/",className:e.links,children:[Object(ne.jsx)(H.a,{children:Object(ne.jsx)(pe.a,{className:e.menuButton})}),Object(ne.jsx)(Q.a,{component:"span",className:e.title,variant:"h6",noWrap:!0,children:"Shop App"})]}),Object(ne.jsx)("div",{className:e.grow}),t.length>0?Object(ne.jsx)(ae,{}):Object(ne.jsx)(le,{})]})})},he=n(321),xe=n(319),Oe=function(){return Object(ne.jsx)(xe.a,{open:!0,sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},children:Object(ne.jsx)(he.a,{color:"inherit"})})},ge=Object(x.c)({selectId:function(e){return e._id}}),ve=ge.getInitialState({status:"idle",error:void 0}),ye=Object(x.b)("products/getAllProducts",function(){var e=Object(h.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.getAllProduct(t);case 2:return n=e.sent,e.abrupt("return",n.data.product);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ke=(Object(x.b)("products/find",function(){var e=Object(h.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.findProducts(t);case 2:return n=e.sent,console.log(n.data),e.abrupt("return",n.data.product);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(x.b)("products/getProductById",function(){var e=Object(h.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.getProductById(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),we=Object(x.b)("products/addProduct",function(){var e=Object(h.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.addProduct(t);case 2:return n=e.sent,console.log(n.data),e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ne=(Object(x.b)("products/deleteProduct",function(){var e=Object(h.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.deleteProduct(t);case 2:return n=e.sent,console.log(n),e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(x.d)({name:"products",initialState:ve,reducers:{},extraReducers:function(e){e.addCase(ye.fulfilled,(function(e,t){e.status="succeeded",ge.removeAll(e),ge.upsertMany(e,t.payload),e.status="idle"})).addCase(ye.rejected,(function(e,t){e.status="failed",e.error=t.error.message,e.status="idle"})).addCase(ke.fulfilled,(function(e,t){e.status="succeeded",ge.upsertOne(e,t.payload)})).addCase(ke.rejected,(function(e,t){e.status="failed",e.error=t.error.message,e.status="idle"})).addCase(we.fulfilled,(function(e,t){e.status="succeeded",ge.removeAll(e)})).addCase(we.rejected,(function(e,t){e.status="failed",e.error=t.error.message}))}}).reducer),Ce=ge.getSelectors((function(e){return e.productsReducer})),Se=Ce.selectAll,Re=Ce.selectById,Ie=n(302),We=n(303),Pe=n(306),Te=n(301),De=n(304),ze=n(305),Fe=n(312),Be=n(322),Ae=n(317),qe=n(327),Ue=n(323),Le=Object(ee.a)({dialog:{opacity:"0.2"}}),Ee=function(e){var t=Le(),n=e.onClose,r=e.open;return Object(ne.jsxs)(Be.a,{onClose:function(){n()},open:r,maxWidth:"sm",className:t.dialog,children:[Object(ne.jsx)(Ae.a,{sx:{textAlign:"center"},children:"Please login first"}),Object(ne.jsx)(qe.a,{sx:{justifyContent:"center"},children:Object(ne.jsx)(Ue.a,{href:"#/user/login",variant:"contained",children:"Login"})})]})},Me=Object(ee.a)({container:{width:"90vw",fontSize:"16px",display:"flex",flexWrap:"wrap",justifyContent:"flex-start",alignContent:"center",margin:"1em 0 1em 8em"},card:{width:"15em",height:"25em",margin:"1em",backgroundColor:"snow"},media:{height:"17em"},title:{fontWeight:"bold",fontSize:"1.5em"},link:{textDecoration:"none",color:"#3f50b5"},buttonWrapper:{display:"flex",alignItems:"center",justifyContent:"center"},button:{color:"snow",background:"linear-gradient(to right, #F37335, #FDC830)"},pagination:{color:"snow",display:"flex",justifyContent:"flex-end",marginRight:"7em",marginBottom:"5em"}}),_e=function(){var e=Me(),t=b(),n=Object(o.g)(),a=Object(o.f)(),c=p(Se),i=p(P);var s=new URLSearchParams(n.search).get("page")||"0";Object(r.useEffect)((function(){null!==s&&t(ye(s))}),[s,t]);var u=Object(r.useState)(!1),j=Object(d.a)(u,2),m=j[0],f=j[1],h=function(){f(!0)},x=function(){f(!1)};return 0===c.length?Object(ne.jsx)(Oe,{}):Object(ne.jsxs)("div",{children:[Object(ne.jsx)("section",{className:e.container,children:c.map((function(n){return Object(ne.jsxs)(Te.a,{className:e.card,children:[Object(ne.jsx)(Ie.a,{children:Object(ne.jsxs)(l.b,{to:"/products/".concat(n._id),className:e.link,children:[Object(ne.jsx)(We.a,{className:e.media,component:"img",image:n.image,title:n.name}),Object(ne.jsxs)(De.a,{children:[Object(ne.jsx)(Q.a,{component:"span",className:e.title,children:n.name}),Object(ne.jsxs)(Q.a,{component:"div",variant:"body2",color:"textSecondary",children:["Price: ",n.price,"$"]}),Object(ne.jsxs)(Q.a,{component:"div",variant:"body2",color:"textSecondary",children:["Quantity: ",n.quantity]})]})]})}),Object(ne.jsx)(ze.a,{className:e.buttonWrapper,children:i.length>0?Object(ne.jsx)(Pe.a,{variant:"contained",fullWidth:!0,className:e.button,onClick:function(){return t(A(n._id))},children:"Add to Cart"}):Object(ne.jsxs)("div",{children:[Object(ne.jsx)(Pe.a,{variant:"contained",fullWidth:!0,className:e.button,onClick:h,children:"Add to Cart"}),Object(ne.jsx)(Ee,{open:m,onClose:x})]})})]},n._id)}))}),Object(ne.jsx)(Fe.a,{count:3,color:"primary",className:e.pagination,onChange:function(e,t){a.push({search:"?page=".concat(t-1)})}})]})},Qe=n(77),Je=n(307),Ve=n(311),Ye=Object(ee.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",height:"82vh",backgroundSize:"100% auto",backgroundRepeat:"repeat-y"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},helperText:{fontSize:"1em",color:"red"}}})),$e=function(e){var t=Ye(),n=Object(o.f)(),a=b(),c=p(P),i=p((function(e){return e.productsReducer.status}));console.log(i);var u={_id:c[0]._id,name:c[0].name},l=Object(Qe.a)(),d=l.register,j=l.handleSubmit;return Object(r.useEffect)((function(){"succeeded"===i&&n.push("/#")}),[i,n]),Object(ne.jsx)(Je.a,{component:"main",maxWidth:"xs",children:Object(ne.jsxs)("form",{className:t.form,onSubmit:j((function(e){e.user=u,a(we(e))})),children:[Object(ne.jsx)(Ve.a,Object(s.a)({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Product name",autoFocus:!0},d("name"))),Object(ne.jsx)(Ve.a,Object(s.a)({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Description",type:"text"},d("description"))),Object(ne.jsx)(Ve.a,Object(s.a)({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Image URL",type:"text"},d("image"))),Object(ne.jsx)(Ve.a,Object(s.a)({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Price",type:"number"},d("price"))),Object(ne.jsx)(Ve.a,Object(s.a)({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Quantity",type:"number"},d("quantity"))),Object(ne.jsx)(Pe.a,{type:"submit",value:"Login",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Add Product"})]})})},He=n(33),Ge=Object(x.c)({selectId:function(e){return e._id}}),Ke=Ge.getInitialState({status:"idle",error:void 0}),Xe=Object(x.b)("reviews/getReview",function(){var e=Object(h.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.getReviews(t);case 2:return n=e.sent,e.abrupt("return",n.data.reviews);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ze=(Object(x.b)("reviews/postReview",function(){var e=Object(h.a)(f.a.mark((function e(t){var n,r,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.productId,r=t.review,e.next=3,w.postReview(n,r);case 3:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(x.b)("reviews/updateReview",function(){var e=Object(h.a)(f.a.mark((function e(t){var n,r,a,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.productId,r=t.reviewId,a=t.review,e.next=3,w.updateReview(n,r,a);case 3:return c=e.sent,console.log(c.data),e.abrupt("return",c.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(x.b)("reviews/deleteReview",function(){var e=Object(h.a)(f.a.mark((function e(t){var n,r,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.productId,r=t.reviewId,e.next=3,w.deleteReview(n,r);case 3:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(x.d)({name:"reviews",initialState:Ke,reducers:{},extraReducers:function(e){e.addCase(Xe.pending,(function(e,t){e.status="pending"})).addCase(Xe.fulfilled,(function(e,t){e.status="succeeded",Ge.upsertMany(e,t.payload)})).addCase(Xe.rejected,(function(e,t){e.status="failed",e.error=t.error.message}))}}).reducer),et=Ge.getSelectors((function(e){return e.reviewReducer})).selectAll,tt=Object(ee.a)((function(e){return Object(te.a)({container:{width:"90vw",height:"87vh",maxWidth:" calc(100%-1em)",maxHeight:" calc(100%-1em)",display:"flex",justifyContent:"flex-start",alignContent:"center",margin:"1em 0 1em 8em"},image:{margin:"3em",display:"flex",alignContent:"center"},text:{margin:"3em",display:"flex",alignContent:"center",flexDirection:"column",marginTop:"2em"},media:{height:"10em",width:"9em"},title:{display:"flex",fontSize:"2em",paddingRight:"1em",justifyContent:"space-between"},price:{borderRadius:"0.25em",border:"none",width:"3em",textAlign:"center",color:"red"},description:{fontSize:"1.1em",margin:"2em",padding:"1em",borderRadius:"0.25em",border:"solid 1px black",backgroundColor:"#F8FFF4"},selector:{display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",margin:"1em",padding:"1em"},input:{margin:"0 1em"},cartButton:{fontSize:"1em",margin:"0 1em",backgroundColor:"#DB2B39",color:"#F8FFF4",borderRadius:"1em","&:hover":{background:Object(He.a)("#DB2B39",.7)}},reviewContainer:{margin:"1em",padding:"2em",borderRadius:"0.25em",border:"solid 1px #DB2B39"},review:{display:"flex",flexDirection:"column",alignItems:"left",padding:"1em"},username:{fontWeight:"bold"},reviewText:{margin:"1em",fontStyle:"italic"}})})),nt=function(e){var t=e.match,n=tt(),a=b(),c=t.params.id,i=p((function(e){return Re(e,c)})),s=p(et),o=p((function(e){return e.reviewReducer.status}));return Object(r.useEffect)((function(){a(ke(c))}),[c,a]),Object(r.useEffect)((function(){"idle"===o&&a(Xe(c))}),[o,c,a]),i?Object(ne.jsxs)("section",{className:n.container,children:[Object(ne.jsx)("div",{className:n.image,children:Object(ne.jsx)("img",{src:i.image,alt:i.name})}),Object(ne.jsxs)("article",{className:n.text,children:[Object(ne.jsxs)(Q.a,{component:"span",className:n.title,children:[Object(ne.jsx)("div",{children:i.name}),Object(ne.jsxs)("div",{className:n.price,children:[i.price,"$"]})]}),Object(ne.jsxs)(Q.a,{component:"span",className:n.description,children:[i.description," Lorem ipsum dolor, sit amet consectetur adipisicing elit. At commodi soluta earum ad, repudiandae accusantium pariatur aliquam ullam, repellat velit eaque voluptatem dignissimos quaerat, dicta cum necessitatibus totam! Modi, ratione!"]}),Object(ne.jsx)("div",{className:n.selector,children:Object(ne.jsx)(Pe.a,{variant:"contained",className:n.cartButton,onClick:function(){return a(A(i._id))},children:"Add to Cart"})}),Object(ne.jsx)("div",{className:n.reviewContainer,children:s?s.map((function(e){return Object(ne.jsxs)("div",{className:n.review,children:[Object(ne.jsx)(Q.a,{component:"div",className:n.username,children:e.user.username}),Object(ne.jsx)(Q.a,{component:"div",className:n.reviewText,children:e.text})]},e._id)})):Object(ne.jsx)(Q.a,{component:"span",children:"No reviews yet"})})]})]}):Object(ne.jsx)("section",{children:Object(ne.jsx)("h1",{children:"Product not found!"})})},rt=function(e){return Object(ne.jsx)("div",{children:Object(ne.jsxs)(o.c,{children:[Object(ne.jsx)(o.a,{path:"/products/new",render:function(e){return Object(ne.jsx)($e,Object(s.a)({},e))}}),Object(ne.jsx)(o.a,{path:"/products/:id/",component:nt})]})})},at=n(324),ct=n(308),it=n(310),st=n(309),ot=n(53),ut=n.n(ot),lt=Object(ee.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",height:"82vh",backgroundSize:"100% auto",backgroundRepeat:"repeat-y"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},helperText:{fontSize:"1em",color:"red"}}})),dt=function(e){var t=lt(),n=Object(o.f)(),a=b(),c=Object(Qe.a)(),i=c.register,u=c.handleSubmit,l=p((function(e){return e.userReducer})),d=l.status,j=l.error;return Object(r.useEffect)((function(){"succeeded"===d&&n.push("/#")}),[d,n,a]),Object(ne.jsxs)(Je.a,{component:"main",maxWidth:"xs",children:[Object(ne.jsx)(ct.a,{}),"succeeded"===d?Object(ne.jsxs)("div",{className:t.paper,children:[Object(ne.jsx)(at.a,{className:t.avatar,children:Object(ne.jsx)(ut.a,{})}),Object(ne.jsx)(Q.a,{component:"h1",variant:"h5",children:"You signed up successfully"})]}):Object(ne.jsxs)("div",{className:t.paper,children:[Object(ne.jsx)(at.a,{className:t.avatar,children:Object(ne.jsx)(pe.a,{})}),Object(ne.jsx)(Q.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(ne.jsxs)("form",{className:t.form,onSubmit:u((function(e){a(R(e))})),noValidate:!0,children:[Object(ne.jsx)(Ve.a,Object(s.a)({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Username",autoFocus:!0},i("name"))),Object(ne.jsx)(Ve.a,Object(s.a)(Object(s.a)({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Password",type:"password"},i("password")),{},{FormHelperTextProps:{className:t.helperText},helperText:j})),Object(ne.jsx)(Pe.a,{type:"submit",value:"Login",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Sign In"}),Object(ne.jsx)(st.a,{container:!0,children:Object(ne.jsx)(st.a,{item:!0,children:Object(ne.jsx)(it.a,{href:"/user/register",variant:"body2",children:"Don't have an account? Sign Up"})})})]})]})]})},jt=function(e){return Object(ne.jsx)(dt,Object(s.a)({},e))},bt=Object(ee.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",height:"82vh",backgroundSize:"100% auto",backgroundRepeat:"repeat-y"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},helperText:{color:"red",fontSize:"1em"}}})),pt=function(e){var t=bt(),n=Object(o.f)(),a=b(),c=p(P),i=p((function(e){return e.userReducer})),u=i.status,l=i.error;console.log(u),console.log(l);var d=Object(Qe.a)(),j=d.register,m=d.handleSubmit;return Object(r.useEffect)((function(){"succeeded"===u&&n.push("/")}),[u,a,n,c]),Object(ne.jsxs)(Je.a,{component:"main",maxWidth:"xs",children:[Object(ne.jsx)(ct.a,{}),"succeeded"===u?Object(ne.jsxs)("div",{className:t.paper,children:[Object(ne.jsx)(at.a,{className:t.avatar,children:Object(ne.jsx)(ut.a,{})}),Object(ne.jsx)(Q.a,{component:"h1",variant:"h5",children:"You signed up successfully"})]}):Object(ne.jsxs)("div",{className:t.paper,children:[Object(ne.jsx)(at.a,{className:t.avatar,children:Object(ne.jsx)(pe.a,{})}),Object(ne.jsx)(Q.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(ne.jsxs)("form",{className:t.form,onSubmit:m((function(e){a(S(e))})),children:[Object(ne.jsx)(Ve.a,Object(s.a)({variant:"outlined",required:!0,fullWidth:!0,autoFocus:!0,margin:"normal",label:"Username",type:"text"},j("name"))),Object(ne.jsx)(Ve.a,Object(s.a)({variant:"outlined",required:!0,fullWidth:!0,margin:"normal",label:"Password",type:"password",FormHelperTextProps:{className:t.helperText},helperText:l},j("password"))),Object(ne.jsx)(Pe.a,{className:t.submit,type:"submit",fullWidth:!0,variant:"contained",color:"primary",children:"Sign Up"})]})]})]})},mt=function(e){return Object(ne.jsx)(pt,Object(s.a)({},e))},ft=Object(ee.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",height:"100vh",backgroundSize:"100% auto",backgroundRepeat:"repeat-y"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main}}})),ht=function(e){var t=ft(),n=Object(o.f)(),a=b();return Object(r.useEffect)((function(){a(I()),setTimeout((function(){n.push("/")}),1e3)}),[n,a]),Object(ne.jsxs)("div",{className:t.paper,children:[Object(ne.jsx)(at.a,{className:t.avatar,children:Object(ne.jsx)(ut.a,{})}),Object(ne.jsx)(Q.a,{component:"h1",variant:"h5",children:"You signed out successfully"})]})},xt=function(e){return Object(ne.jsx)(ht,Object(s.a)({},e))},Ot=function(e){return Object(ne.jsx)("div",{children:Object(ne.jsxs)(o.c,{children:[Object(ne.jsx)(o.a,{path:"/user/login",render:function(e){return Object(ne.jsx)(jt,Object(s.a)({},e))}}),Object(ne.jsx)(o.a,{path:"/user/register",render:function(e){return Object(ne.jsx)(mt,Object(s.a)({},e))}}),Object(ne.jsx)(o.a,{path:"/user/logout",render:function(e){return Object(ne.jsx)(xt,Object(s.a)({},e))}})]})})},gt=n(160),vt=n.n(gt),yt=Object(ee.a)((function(e){return Object(te.a)({page:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},table:{width:"600px",backgroundColor:"#f1f1f1",margin:"0 auto",borderRadius:"1em",padding:"1em",borderSpacing:"5px",marginBottom:"2em","& tbody, & td":{padding:"0.5em",backgroundColor:"white"},"& tfoot, & td":{fontWeight:"bold"}},total:{color:"green"},button:{border:"none",fontSize:"24px",padding:"1em"},form:{display:"flex",alignItems:"center"},input:{fontSize:"1em",width:"3em"},errorBox:{color:"red"}})})),kt=function(e){var t=yt(),n=b(),r=Object(o.f)(),a=p((function(e){return e.cartReducer.items})),c=p((function(e){return e.productsReducer.entities})),i=p(z),s=p((function(e){return e.cartReducer.checkoutState}));return console.log(s),Object(ne.jsxs)("main",{className:t.page,children:[Object(ne.jsx)("h1",{children:"Shopping Cart"}),Object(ne.jsxs)("table",{className:t.table,children:[Object(ne.jsx)("thead",{children:Object(ne.jsxs)("tr",{children:[Object(ne.jsx)("th",{children:"Product"}),Object(ne.jsx)("th",{children:"Quantity"}),Object(ne.jsx)("th",{children:"Price"}),Object(ne.jsx)("th",{children:"Remove"})]})}),Object(ne.jsx)("tbody",{children:Object.entries(a).map((function(e){var r,a,i,s,o=Object(d.a)(e,2),u=o[0],l=o[1];return Object(ne.jsxs)("tr",{children:[Object(ne.jsxs)("td",{children:[null===(r=c[u])||void 0===r?void 0:r.name," "]}),Object(ne.jsx)("td",{children:Object(ne.jsx)("input",{type:"number",min:"0",max:null===(a=c[u])||void 0===a?void 0:a.quantity,className:t.input,defaultValue:l,onBlur:function(e){return function(e,t){var r=Number(e.target.value)||0;n(U({id:t,quantity:r}))}(e,u)}})}),Object(ne.jsxs)("td",{children:["$",null===(i=c[u])||void 0===i?void 0:i.price," "]}),Object(ne.jsx)("td",{children:Object(ne.jsx)("button",{"aria-label":"Remove ".concat(null===(s=c[u])||void 0===s?void 0:s.name,"  from Shopping Cart"),onClick:function(){return n(q(u))},children:Object(ne.jsx)(vt.a,{})})})]})}))}),a&&Object(ne.jsx)("tfoot",{children:Object(ne.jsxs)("tr",{children:[Object(ne.jsx)("td",{children:"Total"}),Object(ne.jsx)("td",{}),Object(ne.jsxs)("td",{className:t.total,children:["$",i]}),Object(ne.jsx)("td",{})]})})]}),Object(ne.jsx)("form",{onSubmit:function(e){e.preventDefault(),n((function(e){e({type:"cart/checkout/pending"}),setTimeout((function(){e({type:"cart/checkout/fulfilled"})}),500)})),r.push("/checkout")},children:a==={}||"pending"===s?Object(ne.jsx)(Ue.a,{disabled:!0,children:"Checkout"}):Object(ne.jsx)(Ue.a,{type:"submit",variant:"contained",children:"Checkout"})})]})},wt=function(e){return Object(ne.jsx)("div",{children:Object(ne.jsx)(o.c,{children:Object(ne.jsx)(o.a,{path:"/cart",render:function(e){return Object(ne.jsx)(kt,Object(s.a)({},e))}})})})},Nt=Object(ee.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",height:"100vh",backgroundSize:"100% auto",backgroundRepeat:"repeat-y"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main}}})),Ct=function(e){var t=Object(o.f)(),n=Nt();return Object(r.useEffect)((function(){setTimeout((function(){t.push("/")}),5e3)}),[t]),Object(ne.jsxs)("div",{className:n.paper,children:[Object(ne.jsx)(at.a,{className:n.avatar,children:Object(ne.jsx)(ut.a,{})}),Object(ne.jsx)(Q.a,{component:"h1",variant:"h5",children:"You have checked out successfully. Please check your email for more information!"})]})},St=function(e){return Object(ne.jsx)("div",{children:Object(ne.jsx)(Ct,Object(s.a)({},e))})},Rt=function(){return Object(ne.jsxs)("div",{children:[Object(ne.jsx)(fe,{}),Object(ne.jsx)("div",{children:Object(ne.jsxs)(o.c,{children:[Object(ne.jsx)(o.a,{exact:!0,path:"/",component:_e}),Object(ne.jsx)(o.a,{path:"/user",render:function(e){return Object(ne.jsx)(Ot,Object(s.a)({},e))}}),Object(ne.jsx)(o.a,{path:"/products",component:rt}),Object(ne.jsx)(o.a,{path:"/cart",render:function(e){return Object(ne.jsx)(wt,Object(s.a)({},e))}}),Object(ne.jsx)(o.a,{path:"/checkout",render:function(e){return Object(ne.jsx)(St,Object(s.a)({},e))}})]})})]})},It=function(){return Object(ne.jsx)(Rt,{})},Wt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,329)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))},Pt=n(39),Tt=Object(Pt.b)({productsReducer:Ne,reviewReducer:Ze,userReducer:W,cartReducer:L}),Dt=n(161),zt=n.n(Dt),Ft=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),Bt=Object(x.a)({reducer:Tt,preloadedState:Ft});Bt.subscribe(zt()((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(n){}}({cartReducer:Bt.getState().cartReducer})}),5e3));var At=Bt;i.a.render(Object(ne.jsx)(a.a.StrictMode,{children:Object(ne.jsx)(j.a,{store:At,children:Object(ne.jsx)(l.a,{basename:g.publicURL,children:Object(ne.jsx)(It,{})})})}),document.getElementById("root")),Wt()}},[[220,1,2]]]);
//# sourceMappingURL=main.76fda502.chunk.js.map
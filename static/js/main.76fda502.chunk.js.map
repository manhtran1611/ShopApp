{"version":3,"sources":["redux/hooks.ts","config/index.ts","axios/index.ts","services/index.ts","redux/userSlice.ts","redux/cartSlice.ts","components/Navbar/User/index.tsx","components/Navbar/Guest/index.tsx","components/Navbar/index.tsx","components/Loader/index.tsx","redux/productsSlice.ts","components/ProductList/Popup/index.tsx","components/ProductList/index.tsx","components/AddNewProduct/index.tsx","redux/reviewsSlice.ts","components/ProductList/SingleProductPage/index.tsx","page/product/index.tsx","components/User/Login/index.tsx","page/user/Login/index.tsx","components/User/Register/index.tsx","page/user/Register/index.tsx","components/User/Logout/index.tsx","page/user/Logout/index.tsx","page/user/User.tsx","components/Cart/index.tsx","page/cart/index.tsx","components/Checkout/index.tsx","page/checkout/checkout.tsx","page/HomePage.tsx","App.tsx","reportWebVitals.ts","redux/rootReducer.ts","redux/store.ts","redux/localStorage.ts","index.tsx"],"names":["useAppDispatch","useDispatch","useAppSelector","useSelector","config","apiURL","process","publicURL","API","axios","create","baseURL","headers","page","get","id","filter","query","value","data","post","put","delete","productId","review","reviewId","cartItems","user","userAdapter","createEntityAdapter","selectId","_id","initialState","getInitialState","status","error","undefined","registerUser","createAsyncThunk","a","rejectWithValue","ProductDataService","response","token","defaults","common","authorization","loginUser","console","log","logoutUser","userSlice","createSlice","name","reducers","extraReducers","builder","addCase","fulfilled","state","action","addOne","payload","rejected","message","removeAll","selectUser","getSelectors","userReducer","selectAll","getMemorizedNumItems","createSelector","cartReducer","items","numItems","getTotalPrice","productsReducer","entities","products","total","price","cartSlice","checkoutState","errorMessage","addToCart","removeFromCart","updateQuantity","quantity","builders","actions","useStyles","makeStyles","theme","createStyles","links","textDecoration","display","alignItems","greeting","fontSize","username","fontStyle","margin","color","iconWrapper","icon","menu","background","flexDirection","sectionDesktop","breakpoints","up","justifyContent","sectionMobile","User","classes","useState","mobileMoreAnchorEl","setMobileMoreAnchorEl","isMobileMenuOpen","Boolean","RenderMobileMenu","Menu","anchorEl","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","open","onClose","MenuItem","className","to","IconButton","Badge","badgeContent","Typography","component","aria-label","size","onClick","event","currentTarget","fill","padding","Guest","edge","container","grow","flexGrow","menuButton","title","Navbar","AppBar","position","Toolbar","variant","noWrap","length","Loader","Backdrop","sx","zIndex","drawer","CircularProgress","productsAdapter","product","fetchProducts","getAllProduct","fetchProductById","findProducts","getProductById","addNewProduct","initialProduct","addProduct","productsSlice","deleteProduct","upsertMany","upsertOne","selectAllProducts","selectProductById","selectById","dialog","opacity","Popup","props","Dialog","maxWidth","DialogTitle","textAlign","DialogActions","href","width","flexWrap","alignContent","card","height","backgroundColor","media","fontWeight","link","buttonWrapper","button","pagination","marginRight","marginBottom","ProductsList","dispatch","location","useLocation","history","useHistory","URLSearchParams","search","useEffect","setOpen","handleClickOpen","handleClose","map","Card","CardActionArea","CardMedia","image","CardContent","CardActions","Button","fullWidth","Pagination","count","onChange","push","paper","marginTop","spacing","backgroundSize","backgroundRepeat","avatar","palette","secondary","main","form","submit","helperText","AddNewProduct","useForm","register","handleSubmit","Container","onSubmit","TextField","required","label","autoFocus","type","reviewsAdapter","fetchReviews","getReviews","reviews","reviewsSlice","postReview","updateReview","deleteReview","pending","selectAllReviews","reviewReducer","maxHeight","text","paddingRight","borderRadius","border","description","selector","input","cartButton","alpha","reviewContainer","reviewText","SingleProductPage","match","params","reviewStatus","src","alt","Product","path","render","Login","CssBaseline","Avatar","noValidate","FormHelperTextProps","Grid","item","Link","LoginRoute","Register","RegisterRoute","Logout","setTimeout","LogoutRoute","table","borderSpacing","errorBox","Cart","cart","totalPrice","Object","entries","min","max","defaultValue","onBlur","e","Number","target","onQuantityChange","preventDefault","disabled","CartRoute","Checkout","CheckoutRoute","HomePage","exact","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","persistedState","serializedState","localStorage","getItem","JSON","parse","loadState","store","configureStore","reducer","preloadedState","subscribe","throttle","stringify","setItem","saveState","getState","ReactDOM","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.76fda502.chunk.js","sourcesContent":["import { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\";\r\nimport type { AppDispatch } from \"./store\";\r\nimport { RootState } from \"./rootReducer\";\r\n\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\r\n","const config = {\r\n  apiURL: process.env.REACT_APP_API_URL,\r\n  publicURL: process.env.PUBLIC_URL,\r\n};\r\nexport default config;\r\n","import axios from \"axios\";\r\nimport config from \"../config\";\r\n\r\nconst API = axios.create({\r\n  baseURL: `${config.apiURL}/api/v1/`,\r\n  headers: {\r\n    \"Content-type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport default API;\r\n","import API from \"../axios\";\r\nimport {\r\n  Product,\r\n  Review,\r\n  InputUser,\r\n  CartItems,\r\n  Filter,\r\n  InputProduct,\r\n} from \"../interface\";\r\nclass ProductDataService {\r\n  getAllProduct(page: string) {\r\n    return API.get(`products?page=${page}`);\r\n  }\r\n  getProductById(id: string) {\r\n    return API.get(`products/${id}`);\r\n  }\r\n  findProducts(filter: Filter) {\r\n    return API.get(\r\n      `products?${filter.query}=${filter.value}&page=${filter.page}`\r\n    );\r\n  }\r\n  addProduct(data: InputProduct) {\r\n    return API.post(`/products`, data);\r\n  }\r\n  updateProduct(id: string, data: Product) {\r\n    return API.put(`/products/${id}`, data);\r\n  }\r\n  deleteProduct(id: string) {\r\n    return API.delete(`/products/${id}`);\r\n  }\r\n  getReviews(productId: string) {\r\n    return API.get(`products/${productId}/reviews`);\r\n  }\r\n  postReview(productId: string, review: Review) {\r\n    return API.post(`/products/${productId}`, review);\r\n  }\r\n  updateReview(productId: string, reviewId: string, review: Review) {\r\n    return API.put(`products/${productId}/reviews/${reviewId}`, review);\r\n  }\r\n  deleteReview(productId: string, reviewId: string) {\r\n    return API.delete(`products/${productId}/reviews/${reviewId}`);\r\n  }\r\n  checkoutCart(cartItems: CartItems) {\r\n    return API.post(`/cart`, cartItems);\r\n  }\r\n  registerUser(user: InputUser) {\r\n    return API.post(\"/user/register\", user);\r\n  }\r\n  loginUser(user: InputUser) {\r\n    return API.post(\"/user/login\", user);\r\n  }\r\n  logoutUser() {\r\n    return API.post(\"/user/logout\");\r\n  }\r\n}\r\n\r\nexport default new ProductDataService();\r\n","import {\r\n  createAsyncThunk,\r\n  createEntityAdapter,\r\n  createSlice,\r\n} from \"@reduxjs/toolkit\";\r\nimport { AxiosError } from \"axios\";\r\nimport API from \"../axios\";\r\nimport { InputUser, OutputUser } from \"../interface\";\r\nimport ProductDataService from \"../services/index\";\r\nimport { RootState } from \"./rootReducer\";\r\ninterface UserState {\r\n  status: \"idle\" | \"succeeded\" | \"failed\";\r\n  error: string | undefined;\r\n}\r\ninterface ValidationErrors {\r\n  error: string;\r\n  field_errors: Record<string, string>;\r\n}\r\n\r\ninterface Response {\r\n  status: string;\r\n  user: OutputUser;\r\n}\r\n\r\nconst userAdapter = createEntityAdapter<OutputUser>({\r\n  selectId: (user) => user._id,\r\n});\r\n\r\nconst initialState = userAdapter.getInitialState({\r\n  status: \"idle\",\r\n  error: null || undefined,\r\n} as UserState);\r\n\r\nexport const registerUser = createAsyncThunk<\r\n  Response,\r\n  InputUser,\r\n  { rejectValue: ValidationErrors }\r\n>(\"user/register\", async (user, { rejectWithValue }) => {\r\n  try {\r\n    const response = await ProductDataService.registerUser(user);\r\n    const token = response.data.token;\r\n    API.defaults.headers.common = { authorization: token };\r\n    // window.localStorage.setItem(\"token\", token);\r\n    return response.data;\r\n  } catch (err: any) {\r\n    let error: AxiosError<ValidationErrors> = err;\r\n    if (!error.response) {\r\n      throw err;\r\n    }\r\n    // console.log(error.response.data);\r\n    return rejectWithValue(error.response.data);\r\n  }\r\n});\r\n\r\nexport const loginUser = createAsyncThunk<\r\n  Response,\r\n  InputUser,\r\n  { rejectValue: ValidationErrors }\r\n>(\"user/login\", async (user, { rejectWithValue }) => {\r\n  try {\r\n    const response = await ProductDataService.loginUser(user);\r\n    API.defaults.headers.common = { authorization: response.data.token };\r\n    // window.localStorage.setItem(\"token\", response.data.token);\r\n    return response.data;\r\n  } catch (err: any) {\r\n    let error: AxiosError<ValidationErrors> = err;\r\n    if (!error.response) {\r\n      throw err;\r\n    }\r\n    console.log(error.response.data);\r\n    return rejectWithValue(error.response.data);\r\n  }\r\n});\r\n\r\nexport const logoutUser = createAsyncThunk(\"user/logout\", async () => {\r\n  const response = await ProductDataService.logoutUser();\r\n  console.log(response.data);\r\n  return response.data;\r\n});\r\n\r\nconst userSlice = createSlice({\r\n  name: \"user\",\r\n  initialState: initialState,\r\n  reducers: {},\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(registerUser.fulfilled, (state, action) => {\r\n        state.status = \"succeeded\";\r\n        userAdapter.addOne(state, action.payload.user);\r\n      })\r\n      .addCase(registerUser.rejected, (state, action) => {\r\n        if (action.payload) {\r\n          state.error = action.payload.error;\r\n        } else {\r\n          state.error = action.error.message;\r\n        }\r\n      })\r\n      .addCase(loginUser.fulfilled, (state, action) => {\r\n        state.status = \"succeeded\";\r\n        userAdapter.addOne(state, action.payload.user);\r\n        console.log(state);\r\n      })\r\n      .addCase(loginUser.rejected, (state, action) => {\r\n        if (action.payload) {\r\n          state.error = action.payload.error;\r\n        } else {\r\n          state.error = action.error.message;\r\n        }\r\n      })\r\n      .addCase(logoutUser.fulfilled, (state, action) => {\r\n        state.status = \"succeeded\";\r\n        API.defaults.headers.common = { authorization: \"\" };\r\n        state.status = \"idle\";\r\n        userAdapter.removeAll(state);\r\n      })\r\n      .addCase(logoutUser.rejected, (state, action) => {\r\n        state.status = \"failed\";\r\n        state.error = action.error.message;\r\n        state.status = \"idle\";\r\n      });\r\n  },\r\n});\r\n\r\nexport default userSlice.reducer;\r\n\r\nexport const { selectAll: selectUser } = userAdapter.getSelectors(\r\n  (state: RootState) => state.userReducer\r\n);\r\n","import { createSelector, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { RootState } from \"./rootReducer\";\r\nimport { AppDispatch } from \"./store\";\r\n\r\nexport interface CartState {\r\n  items: { [itemId: string]: number };\r\n  checkoutState: \"idle\" | \"pending\" | \"error\";\r\n  errorMessage: string;\r\n}\r\n\r\nconst initialState: CartState = {\r\n  items: {},\r\n  checkoutState: \"idle\",\r\n  errorMessage: \"\",\r\n};\r\n\r\nexport const getMemorizedNumItems = createSelector(\r\n  (state: RootState) => state.cartReducer.items,\r\n  (items) => {\r\n    let numItems = 0;\r\n    for (let id in items) {\r\n      numItems += items[id];\r\n    }\r\n    return numItems;\r\n  }\r\n);\r\n\r\nexport const getTotalPrice = createSelector(\r\n  (state: RootState) => state.cartReducer.items,\r\n  (state: RootState) => state.productsReducer.entities,\r\n  (items, products) => {\r\n    let total = 0;\r\n    for (let id in items) {\r\n      total += (products[id]?.price as number) * items[id];\r\n    }\r\n    return total;\r\n  }\r\n);\r\n\r\nconst cartSlice = createSlice({\r\n  name: \"cart\",\r\n  initialState,\r\n  reducers: {\r\n    addToCart(state, action: PayloadAction<string>) {\r\n      const id = action.payload;\r\n      if (state.items[id]) {\r\n        state.items[id]++;\r\n      } else {\r\n        state.items[id] = 1;\r\n      }\r\n    },\r\n    removeFromCart(state, action: PayloadAction<string>) {\r\n      delete state.items[action.payload];\r\n    },\r\n    updateQuantity(\r\n      state,\r\n      action: PayloadAction<{ id: string; quantity: number }>\r\n    ) {\r\n      const { id, quantity } = action.payload;\r\n      state.items[id] = quantity;\r\n    },\r\n  },\r\n  extraReducers: (builders) => {\r\n    builders\r\n      .addCase(\"cart/checkout/pending\", (state, action) => {\r\n        state.checkoutState = \"pending\";\r\n        state.items = {};\r\n      })\r\n      .addCase(\"cart/checkout/fulfilled\", (state, action) => {\r\n        state.checkoutState = \"idle\";\r\n      });\r\n  },\r\n});\r\n\r\nexport function checkout() {\r\n  return function checkoutThunk(dispatch: AppDispatch) {\r\n    dispatch({ type: \"cart/checkout/pending\" });\r\n    setTimeout(function () {\r\n      dispatch({ type: \"cart/checkout/fulfilled\" });\r\n    }, 500);\r\n  };\r\n}\r\n\r\nexport const { addToCart, removeFromCart, updateQuantity } = cartSlice.actions;\r\nexport default cartSlice.reducer;\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n// * REDUX\r\nimport { useAppSelector } from \"../../../redux/hooks\";\r\nimport { selectUser } from \"../../../redux/userSlice\";\r\nimport { getMemorizedNumItems } from \"../../../redux/cartSlice\";\r\n\r\n// * MATERIAL UI\r\nimport Badge from \"@material-ui/core/Badge\";\r\nimport { Menu, MenuItem } from \"@mui/material\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport MoreIcon from \"@material-ui/icons/MoreVert\";\r\nimport LogoutIcon from \"@mui/icons-material/Logout\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport AddCircleIcon from \"@mui/icons-material/AddCircle\";\r\nimport ShoppingCartIcon from \"@material-ui/icons/ShoppingCart\";\r\nimport { Theme, makeStyles, createStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    links: {\r\n      textDecoration: \"none\",\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n    },\r\n    greeting: {\r\n      fontSize: \"1.25em\",\r\n    },\r\n    username: {\r\n      fontStyle: \"bold\",\r\n      margin: \"0.5em\",\r\n      color: \"blue\",\r\n    },\r\n    iconWrapper: {\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n    },\r\n    icon: {\r\n      color: \"#ffffff\",\r\n    },\r\n    menu: {\r\n      background: \"linear-gradient(to right, #F37335, #FDC830)\",\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n    },\r\n    sectionDesktop: {\r\n      display: \"none\",\r\n      [theme.breakpoints.up(\"md\")]: {\r\n        display: \"flex\",\r\n        justifyContent: \"space-around\",\r\n        alignItems: \"center\",\r\n        margin: \"1em\",\r\n      },\r\n    },\r\n    sectionMobile: {\r\n      display: \"flex\",\r\n      [theme.breakpoints.up(\"md\")]: {\r\n        display: \"none\",\r\n      },\r\n    },\r\n  })\r\n);\r\n\r\nexport const User = () => {\r\n  const classes = useStyles();\r\n  const user = useAppSelector(selectUser);\r\n  const username = user[0].name;\r\n  const numItems = useAppSelector(getMemorizedNumItems);\r\n\r\n  const [mobileMoreAnchorEl, setMobileMoreAnchorEl] =\r\n    useState<null | HTMLElement>(null);\r\n  const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\r\n  const handleMobileMenuOpen = (event: React.MouseEvent<HTMLElement>) => {\r\n    setMobileMoreAnchorEl(event.currentTarget);\r\n  };\r\n  const handleMobileMenuClose = () => {\r\n    setMobileMoreAnchorEl(null);\r\n  };\r\n\r\n  const RenderMobileMenu = (\r\n    <Menu\r\n      anchorEl={mobileMoreAnchorEl}\r\n      anchorOrigin={{\r\n        vertical: \"top\",\r\n        horizontal: \"right\",\r\n      }}\r\n      keepMounted\r\n      transformOrigin={{\r\n        vertical: \"top\",\r\n        horizontal: \"right\",\r\n      }}\r\n      open={isMobileMenuOpen}\r\n      onClose={handleMobileMenuClose}\r\n    >\r\n      <MenuItem className={classes.menu}>\r\n        <Link to=\"/products/new\" className={classes.links}>\r\n          <IconButton>\r\n            <AddCircleIcon className={classes.icon} />\r\n          </IconButton>\r\n        </Link>\r\n        <Link to=\"/cart\" className={classes.links}>\r\n          <IconButton>\r\n            <Badge badgeContent={numItems} color=\"secondary\">\r\n              <ShoppingCartIcon className={classes.icon} />\r\n            </Badge>\r\n          </IconButton>\r\n        </Link>\r\n        <Link to=\"/user/logout\" className={classes.links}>\r\n          <IconButton className={classes.iconWrapper}>\r\n            <LogoutIcon className={classes.icon} />\r\n          </IconButton>\r\n        </Link>\r\n      </MenuItem>\r\n    </Menu>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <section className={classes.sectionDesktop}>\r\n        <Link to=\"/products/new\" className={classes.links}>\r\n          <IconButton>\r\n            <AddCircleIcon className={classes.icon} />\r\n          </IconButton>\r\n        </Link>\r\n        <Link to=\"/cart\" className={classes.links}>\r\n          <IconButton>\r\n            <Badge badgeContent={numItems} color=\"secondary\">\r\n              <ShoppingCartIcon className={classes.icon} />\r\n            </Badge>\r\n          </IconButton>\r\n        </Link>\r\n        <Typography className={classes.greeting} component=\"span\">\r\n          Welcome\r\n          <Typography className={classes.username} component=\"span\">\r\n            {username}\r\n          </Typography>\r\n        </Typography>\r\n        <Link to=\"/user/logout\" className={classes.links}>\r\n          <IconButton aria-label=\"log out\" className={classes.iconWrapper}>\r\n            <LogoutIcon className={classes.icon} />\r\n          </IconButton>\r\n        </Link>\r\n      </section>\r\n      <section className={classes.sectionMobile}>\r\n        <IconButton size=\"medium\" onClick={handleMobileMenuOpen}>\r\n          <MoreIcon />\r\n        </IconButton>\r\n        {RenderMobileMenu}\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { Menu, MenuItem } from \"@mui/material\";\r\nimport MoreIcon from \"@material-ui/icons/MoreVert\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\r\nimport SupervisorAccountIcon from \"@material-ui/icons/SupervisorAccount\";\r\nimport { makeStyles, Theme, createStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    links: {\r\n      textDecoration: \"none\",\r\n    },\r\n    icon: {\r\n      fill: \"snow\",\r\n      padding: \"0\",\r\n    },\r\n    menu: {\r\n      background: \"linear-gradient(to right, #F37335, #FDC830)\",\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n    },\r\n    sectionDesktop: {\r\n      display: \"none\",\r\n      [theme.breakpoints.up(\"md\")]: {\r\n        display: \"flex\",\r\n      },\r\n    },\r\n    sectionMobile: {\r\n      display: \"flex\",\r\n      [theme.breakpoints.up(\"md\")]: {\r\n        display: \"none\",\r\n      },\r\n    },\r\n  })\r\n);\r\n\r\nexport const Guest = () => {\r\n  const classes = useStyles();\r\n  const [mobileMoreAnchorEl, setMobileMoreAnchorEl] =\r\n    useState<null | HTMLElement>(null);\r\n  const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\r\n  const handleMobileMenuOpen = (event: React.MouseEvent<HTMLElement>) => {\r\n    setMobileMoreAnchorEl(event.currentTarget);\r\n  };\r\n  const handleMobileMenuClose = () => {\r\n    setMobileMoreAnchorEl(null);\r\n  };\r\n  const RenderMobileMenu = (\r\n    <Menu\r\n      anchorEl={mobileMoreAnchorEl}\r\n      anchorOrigin={{\r\n        vertical: \"top\",\r\n        horizontal: \"right\",\r\n      }}\r\n      keepMounted\r\n      transformOrigin={{\r\n        vertical: \"top\",\r\n        horizontal: \"right\",\r\n      }}\r\n      open={isMobileMenuOpen}\r\n      onClose={handleMobileMenuClose}\r\n    >\r\n      <MenuItem className={classes.menu}>\r\n        <Link to=\"/user/register\" className={classes.links}>\r\n          <IconButton>\r\n            <SupervisorAccountIcon className={classes.icon} />\r\n          </IconButton>\r\n        </Link>\r\n        <Link to=\"/user/login\" className={classes.links}>\r\n          <IconButton>\r\n            <AccountCircle className={classes.icon} />\r\n          </IconButton>\r\n        </Link>\r\n      </MenuItem>\r\n    </Menu>\r\n  );\r\n\r\n  return (\r\n    <section>\r\n      <div className={classes.sectionDesktop}>\r\n        <Link to=\"/user/register\" className={classes.links}>\r\n          <IconButton>\r\n            <SupervisorAccountIcon className={classes.icon} />\r\n          </IconButton>\r\n        </Link>\r\n        <Link to=\"/user/login\" className={classes.links}>\r\n          <IconButton edge=\"end\">\r\n            <AccountCircle className={classes.icon} />\r\n          </IconButton>\r\n        </Link>\r\n      </div>\r\n      <div className={classes.sectionMobile}>\r\n        <IconButton size=\"medium\" onClick={handleMobileMenuOpen}>\r\n          <MoreIcon />\r\n        </IconButton>\r\n      </div>\r\n      {RenderMobileMenu}\r\n    </section>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { User } from \"./User\";\r\nimport { Guest } from \"./Guest\";\r\n// * REDUX\r\nimport { useAppSelector } from \"../../redux/hooks\";\r\nimport { selectUser } from \"../../redux/userSlice\";\r\n//  * MATERIAL UI\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport ShoppingBasketIcon from \"@material-ui/icons/ShoppingBasket\";\r\nimport { makeStyles, Theme, createStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    container: {\r\n      background: \"linear-gradient(to right, #F37335, #FDC830)\",\r\n    },\r\n    grow: {\r\n      flexGrow: 1,\r\n    },\r\n    menuButton: {\r\n      color: \"white\",\r\n    },\r\n    title: {\r\n      display: \"none\",\r\n      [theme.breakpoints.up(\"sm\")]: {\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        color: \"white\",\r\n      },\r\n    },\r\n    links: {\r\n      textDecoration: \"none\",\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      justifyContent: \"center\",\r\n    },\r\n  })\r\n);\r\n\r\nexport const Navbar = () => {\r\n  const classes = useStyles();\r\n  const user = useAppSelector(selectUser);\r\n\r\n  return (\r\n    <AppBar position=\"static\" className={classes.container}>\r\n      <Toolbar>\r\n        <Link to=\"/\" className={classes.links}>\r\n          <IconButton>\r\n            <ShoppingBasketIcon className={classes.menuButton} />\r\n          </IconButton>\r\n          <Typography\r\n            component=\"span\"\r\n            className={classes.title}\r\n            variant=\"h6\"\r\n            noWrap\r\n          >\r\n            Shop App\r\n          </Typography>\r\n        </Link>\r\n        <div className={classes.grow} />\r\n        {user.length > 0 ? <User /> : <Guest />}\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport CircularProgress from \"@mui/material/CircularProgress\";\r\nimport { Backdrop } from \"@mui/material\";\r\n\r\nexport const Loader = () => {\r\n  return (\r\n    <Backdrop\r\n      open={true}\r\n      sx={{ color: \"#fff\", zIndex: (theme) => theme.zIndex.drawer + 1 }}\r\n    >\r\n      <CircularProgress color=\"inherit\" />\r\n    </Backdrop>\r\n  );\r\n};\r\n","import {\r\n  createEntityAdapter,\r\n  createSlice,\r\n  createAsyncThunk,\r\n} from \"@reduxjs/toolkit\";\r\nimport ProductDataService from \"../services\";\r\nimport { Product, Filter, InputProduct } from \"../interface\";\r\nimport { RootState } from \"./rootReducer\";\r\n\r\ninterface ProductState {\r\n  status: \"idle\" | \"pending\" | \"succeeded\" | \"failed\";\r\n  error: string | undefined;\r\n}\r\n\r\nconst productsAdapter = createEntityAdapter<Product>({\r\n  selectId: (product) => product._id,\r\n});\r\n\r\nconst initialState = productsAdapter.getInitialState({\r\n  status: \"idle\",\r\n  error: null || undefined,\r\n} as ProductState);\r\n\r\nexport const fetchProducts = createAsyncThunk(\r\n  \"products/getAllProducts\",\r\n  async (page: string) => {\r\n    const response = await ProductDataService.getAllProduct(page);\r\n    return response.data.product;\r\n  }\r\n);\r\n\r\nexport const findProduct = createAsyncThunk(\r\n  \"products/find\",\r\n  async (filter: Filter) => {\r\n    const response = await ProductDataService.findProducts(filter);\r\n    console.log(response.data);\r\n    return response.data.product;\r\n  }\r\n);\r\n\r\nexport const fetchProductById = createAsyncThunk(\r\n  \"products/getProductById\",\r\n  async (id: string) => {\r\n    const response = await ProductDataService.getProductById(id);\r\n    // console.log(response.data);\r\n    return response.data;\r\n  }\r\n);\r\n\r\nexport const addNewProduct = createAsyncThunk(\r\n  \"products/addProduct\",\r\n  async (initialProduct: InputProduct) => {\r\n    const response = await ProductDataService.addProduct(initialProduct);\r\n    console.log(response.data);\r\n    return response.data;\r\n  }\r\n);\r\n\r\n// export const updateProduct = createAsyncThunk(\r\n//   \"products/updateProduct\",\r\n//   async (initialProduct: Product) => {\r\n//     const response = await ProductDataService.updateProduct(\r\n//       initialProduct._id,\r\n//       initialProduct\r\n//     );\r\n//     console.log(response);\r\n//     return response.data;\r\n//   }\r\n// );\r\n\r\nexport const deleteProduct = createAsyncThunk(\r\n  \"products/deleteProduct\",\r\n  async (id: string) => {\r\n    const response = await ProductDataService.deleteProduct(id);\r\n    console.log(response);\r\n    return response.data;\r\n  }\r\n);\r\n\r\nconst productsSlice = createSlice({\r\n  name: \"products\",\r\n  initialState: initialState,\r\n  reducers: {},\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(fetchProducts.fulfilled, (state, action) => {\r\n        state.status = \"succeeded\";\r\n        productsAdapter.removeAll(state);\r\n        productsAdapter.upsertMany(state, action.payload);\r\n        state.status = \"idle\";\r\n      })\r\n      .addCase(fetchProducts.rejected, (state, action) => {\r\n        state.status = \"failed\";\r\n        state.error = action.error.message;\r\n        state.status = \"idle\";\r\n      })\r\n      .addCase(fetchProductById.fulfilled, (state, action) => {\r\n        state.status = \"succeeded\";\r\n        productsAdapter.upsertOne(state, action.payload);\r\n      })\r\n      .addCase(fetchProductById.rejected, (state, action) => {\r\n        state.status = \"failed\";\r\n        state.error = action.error.message;\r\n        state.status = \"idle\";\r\n      })\r\n      .addCase(addNewProduct.fulfilled, (state, action) => {\r\n        state.status = \"succeeded\";\r\n        productsAdapter.removeAll(state);\r\n      })\r\n      .addCase(addNewProduct.rejected, (state, action) => {\r\n        state.status = \"failed\";\r\n        state.error = action.error.message;\r\n      });\r\n  },\r\n});\r\n\r\nexport default productsSlice.reducer;\r\n\r\nexport const { selectAll: selectAllProducts, selectById: selectProductById } =\r\n  productsAdapter.getSelectors((state: RootState) => state.productsReducer);\r\n","import * as React from \"react\";\r\nimport Dialog from \"@mui/material/Dialog\";\r\nimport { Button, DialogActions, DialogTitle } from \"@mui/material\";\r\nimport { makeStyles } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles({\r\n  dialog: {\r\n    opacity: \"0.2\",\r\n  },\r\n});\r\n\r\ninterface PopupProps {\r\n  open: boolean;\r\n  onClose: () => void;\r\n}\r\n\r\nexport const Popup = (props: PopupProps) => {\r\n  const classes = useStyles();\r\n  const { onClose, open } = props;\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      onClose={handleClose}\r\n      open={open}\r\n      maxWidth=\"sm\"\r\n      className={classes.dialog}\r\n    >\r\n      <DialogTitle\r\n        sx={{\r\n          textAlign: \"center\",\r\n        }}\r\n      >\r\n        Please login first\r\n      </DialogTitle>\r\n      <DialogActions\r\n        sx={{\r\n          justifyContent: \"center\",\r\n        }}\r\n      >\r\n        <Button href=\"#/user/login\" variant=\"contained\">\r\n          Login\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { Product } from \"../../interface\";\r\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\r\nimport { Loader } from \"../Loader\";\r\n//  * Redux\r\nimport { fetchProducts, selectAllProducts } from \"../../redux/productsSlice\";\r\nimport { useAppDispatch, useAppSelector } from \"../../redux/hooks\";\r\nimport { addToCart } from \"../../redux/cartSlice\";\r\nimport { selectUser } from \"../../redux/userSlice\";\r\n\r\n//  * MATERIAL UI\r\nimport { Button, CardActionArea, CardMedia } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Pagination from \"@mui/material/Pagination\";\r\nimport { Popup } from \"./Popup\";\r\n\r\nconst useStyles = makeStyles({\r\n  container: {\r\n    width: \"90vw\",\r\n    fontSize: \"16px\",\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n    justifyContent: \"flex-start\",\r\n    alignContent: \"center\",\r\n    margin: \"1em 0 1em 8em\",\r\n  },\r\n  card: {\r\n    width: \"15em\",\r\n    height: \"25em\",\r\n    margin: \"1em\",\r\n    backgroundColor: \"snow\",\r\n  },\r\n  media: {\r\n    height: \"17em\",\r\n  },\r\n  title: {\r\n    fontWeight: \"bold\",\r\n    fontSize: \"1.5em\",\r\n  },\r\n  link: {\r\n    textDecoration: \"none\",\r\n    color: \"#3f50b5\",\r\n  },\r\n  buttonWrapper: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  button: {\r\n    color: \"snow\",\r\n    background: \"linear-gradient(to right, #F37335, #FDC830)\",\r\n  },\r\n  pagination: {\r\n    color: \"snow\",\r\n    display: \"flex\",\r\n    justifyContent: \"flex-end\",\r\n    marginRight: \"7em\",\r\n    marginBottom: \"5em\",\r\n  },\r\n});\r\n\r\nexport const ProductsList: React.FC = () => {\r\n  const classes = useStyles();\r\n  const dispatch = useAppDispatch();\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const products = useAppSelector(selectAllProducts);\r\n  const user = useAppSelector(selectUser);\r\n\r\n  function useQuery() {\r\n    return new URLSearchParams(location.search);\r\n  }\r\n  const page = useQuery().get(\"page\") || \"0\";\r\n  const pageChange = (event: React.ChangeEvent<unknown>, page: number) => {\r\n    history.push({\r\n      search: `?page=${page - 1}`,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (page !== null) {\r\n      dispatch(fetchProducts(page));\r\n    }\r\n  }, [page, dispatch]);\r\n\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  if (products.length === 0) return <Loader />;\r\n\r\n  return (\r\n    <div>\r\n      <section className={classes.container}>\r\n        {products.map((product: Product) => {\r\n          return (\r\n            <Card className={classes.card} key={product._id}>\r\n              <CardActionArea>\r\n                <Link to={`/products/${product._id}`} className={classes.link}>\r\n                  <CardMedia\r\n                    className={classes.media}\r\n                    component=\"img\"\r\n                    image={product.image}\r\n                    title={product.name}\r\n                  />\r\n                  <CardContent>\r\n                    <Typography component={\"span\"} className={classes.title}>\r\n                      {product.name}\r\n                    </Typography>\r\n                    <Typography\r\n                      component={\"div\"}\r\n                      variant=\"body2\"\r\n                      color=\"textSecondary\"\r\n                    >\r\n                      Price: {product.price}$\r\n                    </Typography>\r\n                    <Typography\r\n                      component={\"div\"}\r\n                      variant=\"body2\"\r\n                      color=\"textSecondary\"\r\n                    >\r\n                      Quantity: {product.quantity}\r\n                    </Typography>\r\n                  </CardContent>\r\n                </Link>\r\n              </CardActionArea>\r\n              <CardActions className={classes.buttonWrapper}>\r\n                {user.length > 0 ? (\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    fullWidth\r\n                    className={classes.button}\r\n                    onClick={() => dispatch(addToCart(product._id))}\r\n                  >\r\n                    Add to Cart\r\n                  </Button>\r\n                ) : (\r\n                  <div>\r\n                    <Button\r\n                      variant=\"contained\"\r\n                      fullWidth\r\n                      className={classes.button}\r\n                      onClick={handleClickOpen}\r\n                    >\r\n                      Add to Cart\r\n                    </Button>\r\n                    <Popup open={open} onClose={handleClose} />\r\n                  </div>\r\n                )}\r\n              </CardActions>\r\n            </Card>\r\n          );\r\n        })}\r\n      </section>\r\n      <Pagination\r\n        count={3}\r\n        color=\"primary\"\r\n        className={classes.pagination}\r\n        onChange={pageChange}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { RouteComponentProps, useHistory } from \"react-router-dom\";\r\nimport { SubmitHandler, useForm } from \"react-hook-form\";\r\n\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useAppDispatch, useAppSelector } from \"../../redux/hooks\";\r\nimport { InputProduct } from \"../../interface\";\r\nimport { addNewProduct } from \"../../redux/productsSlice\";\r\nimport { selectUser } from \"../../redux/userSlice\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    height: \"82vh\",\r\n    backgroundSize: \"100% auto\",\r\n    backgroundRepeat: \"repeat-y\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\",\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  helperText: {\r\n    fontSize: \"1em\",\r\n    color: \"red\",\r\n  },\r\n}));\r\n\r\nexport const AddNewProduct = (props: RouteComponentProps) => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const dispatch = useAppDispatch();\r\n\r\n  const data = useAppSelector(selectUser);\r\n  const status = useAppSelector((state) => state.productsReducer.status);\r\n  console.log(status);\r\n\r\n  const user = {\r\n    _id: data[0]._id,\r\n    name: data[0].name,\r\n  };\r\n  const { register, handleSubmit } = useForm<InputProduct>();\r\n  const onSubmit: SubmitHandler<InputProduct> = (product) => {\r\n    product.user = user;\r\n    dispatch(addNewProduct(product));\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (status === \"succeeded\") {\r\n      history.push(\"/#\");\r\n    }\r\n  }, [status, history]);\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <form className={classes.form} onSubmit={handleSubmit(onSubmit)}>\r\n        <TextField\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n          required\r\n          fullWidth\r\n          label=\"Product name\"\r\n          autoFocus\r\n          {...register(\"name\")}\r\n        />\r\n        <TextField\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n          required\r\n          fullWidth\r\n          label=\"Description\"\r\n          type=\"text\"\r\n          {...register(\"description\")}\r\n        />\r\n        <TextField\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n          required\r\n          fullWidth\r\n          label=\"Image URL\"\r\n          type=\"text\"\r\n          {...register(\"image\")}\r\n        />\r\n        <TextField\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n          required\r\n          fullWidth\r\n          label=\"Price\"\r\n          type=\"number\"\r\n          {...register(\"price\")}\r\n        />\r\n        <TextField\r\n          variant=\"outlined\"\r\n          margin=\"normal\"\r\n          required\r\n          fullWidth\r\n          label=\"Quantity\"\r\n          type=\"number\"\r\n          {...register(\"quantity\")}\r\n        />\r\n        <Button\r\n          type=\"submit\"\r\n          value=\"Login\"\r\n          fullWidth\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          className={classes.submit}\r\n        >\r\n          Add Product\r\n        </Button>\r\n      </form>\r\n    </Container>\r\n  );\r\n};\r\n","import {\r\n  createSlice,\r\n  createAsyncThunk,\r\n  createEntityAdapter,\r\n} from \"@reduxjs/toolkit\";\r\nimport { Review } from \"../interface\";\r\nimport ProductDataService from \"../services/index\";\r\nimport { RootState } from \"./rootReducer\";\r\ninterface ReviewState {\r\n  status: \"idle\" | \"pending\" | \"succeeded\" | \"failed\";\r\n  error: string | undefined;\r\n}\r\n\r\nconst reviewsAdapter = createEntityAdapter<Review>({\r\n  selectId: (review) => review._id,\r\n});\r\n\r\nconst initialState = reviewsAdapter.getInitialState({\r\n  status: \"idle\",\r\n  error: null || undefined,\r\n} as ReviewState);\r\n\r\nexport const fetchReviews = createAsyncThunk(\r\n  \"reviews/getReview\",\r\n  async (productId: string) => {\r\n    const response = await ProductDataService.getReviews(productId);\r\n    // console.log(response.data);\r\n    return response.data.reviews;\r\n  }\r\n);\r\n\r\nexport const postReview = createAsyncThunk(\r\n  \"reviews/postReview\",\r\n  async ({ productId, review }: { productId: string; review: Review }) => {\r\n    const response = await ProductDataService.postReview(productId, review);\r\n    console.log(response.data);\r\n    return response.data;\r\n  }\r\n);\r\nexport const updateReview = createAsyncThunk(\r\n  \"reviews/updateReview\",\r\n  async ({\r\n    productId,\r\n    reviewId,\r\n    review,\r\n  }: {\r\n    productId: string;\r\n    reviewId: string;\r\n    review: Review;\r\n  }) => {\r\n    const response = await ProductDataService.updateReview(\r\n      productId,\r\n      reviewId,\r\n      review\r\n    );\r\n    console.log(response.data);\r\n    return response.data;\r\n  }\r\n);\r\n\r\nexport const deleteReview = createAsyncThunk(\r\n  \"reviews/deleteReview\",\r\n  async ({ productId, reviewId }: { productId: string; reviewId: string }) => {\r\n    const response = await ProductDataService.deleteReview(productId, reviewId);\r\n    console.log(response.data);\r\n    return response.data;\r\n  }\r\n);\r\n\r\nconst reviewsSlice = createSlice({\r\n  name: \"reviews\",\r\n  initialState: initialState,\r\n  reducers: {},\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(fetchReviews.pending, (state, action) => {\r\n        state.status = \"pending\";\r\n      })\r\n      .addCase(fetchReviews.fulfilled, (state, action) => {\r\n        state.status = \"succeeded\";\r\n        reviewsAdapter.upsertMany(state, action.payload);\r\n      })\r\n      .addCase(fetchReviews.rejected, (state, action) => {\r\n        state.status = \"failed\";\r\n        state.error = action.error.message;\r\n      });\r\n  },\r\n});\r\n\r\nexport default reviewsSlice.reducer;\r\n\r\nexport const { selectAll: selectAllReviews } = reviewsAdapter.getSelectors(\r\n  (state: RootState) => state.reviewReducer\r\n);\r\n","import React, { useEffect } from \"react\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport { useAppDispatch, useAppSelector } from \"../../../redux/hooks\";\r\nimport {\r\n  fetchProductById,\r\n  selectProductById,\r\n} from \"../../../redux/productsSlice\";\r\n\r\n// * MATERIAL UI\r\nimport {\r\n  makeStyles,\r\n  createStyles,\r\n  alpha,\r\n  Theme,\r\n} from \"@material-ui/core/styles\";\r\nimport { Button, Typography } from \"@material-ui/core\";\r\nimport { Review } from \"../../../interface\";\r\nimport { fetchReviews, selectAllReviews } from \"../../../redux/reviewsSlice\";\r\nimport { addToCart } from \"../../../redux/cartSlice\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    container: {\r\n      width: \"90vw\",\r\n      height: \"87vh\",\r\n      maxWidth: \" calc(100%-1em)\",\r\n      maxHeight: \" calc(100%-1em)\",\r\n      display: \"flex\",\r\n      justifyContent: \"flex-start\",\r\n      alignContent: \"center\",\r\n      margin: \"1em 0 1em 8em\",\r\n    },\r\n    image: {\r\n      margin: \"3em\",\r\n      display: \"flex\",\r\n      alignContent: \"center\",\r\n    },\r\n    text: {\r\n      margin: \"3em\",\r\n      display: \"flex\",\r\n      alignContent: \"center\",\r\n      flexDirection: \"column\",\r\n      marginTop: \"2em\",\r\n    },\r\n    media: {\r\n      height: \"10em\",\r\n      width: \"9em\",\r\n    },\r\n    title: {\r\n      display: \"flex\",\r\n      fontSize: \"2em\",\r\n      paddingRight: \"1em\",\r\n      justifyContent: \"space-between\",\r\n    },\r\n    price: {\r\n      borderRadius: \"0.25em\",\r\n      border: \"none\",\r\n      width: \"3em\",\r\n      textAlign: \"center\",\r\n      color: \"red\",\r\n    },\r\n    description: {\r\n      fontSize: \"1.1em\",\r\n      margin: \"2em\",\r\n      padding: \"1em\",\r\n      borderRadius: \"0.25em\",\r\n      border: \"solid 1px black\",\r\n      backgroundColor: \"#F8FFF4\",\r\n    },\r\n    selector: {\r\n      display: \"flex\",\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\",\r\n      textAlign: \"center\",\r\n      margin: \"1em\",\r\n      padding: \"1em\",\r\n    },\r\n    input: {\r\n      margin: \"0 1em\",\r\n    },\r\n    cartButton: {\r\n      fontSize: \"1em\",\r\n      margin: \"0 1em\",\r\n      backgroundColor: \"#DB2B39\",\r\n      color: \"#F8FFF4\",\r\n      borderRadius: \"1em\",\r\n      \"&:hover\": {\r\n        background: alpha(\"#DB2B39\", 0.7),\r\n      },\r\n    },\r\n    reviewContainer: {\r\n      margin: \"1em\",\r\n      padding: \"2em\",\r\n      borderRadius: \"0.25em\",\r\n      border: \"solid 1px #DB2B39\",\r\n    },\r\n    review: {\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      alignItems: \"left\",\r\n      padding: \"1em\",\r\n    },\r\n    username: {\r\n      fontWeight: \"bold\",\r\n    },\r\n    reviewText: {\r\n      margin: \"1em\",\r\n      fontStyle: \"italic\",\r\n    },\r\n  })\r\n);\r\n\r\ninterface MatchParams {\r\n  id: string;\r\n}\r\n\r\ninterface Props extends RouteComponentProps<MatchParams> {}\r\n\r\nexport const SingleProductPage: React.FC<Props> = ({ match }: Props) => {\r\n  const classes = useStyles();\r\n  const dispatch = useAppDispatch();\r\n  const productId = match.params.id;\r\n  const product = useAppSelector((state) =>\r\n    selectProductById(state, productId)\r\n  );\r\n\r\n  const reviews = useAppSelector(selectAllReviews);\r\n  const reviewStatus = useAppSelector((state) => state.reviewReducer.status);\r\n  useEffect(() => {\r\n    dispatch(fetchProductById(productId));\r\n  }, [productId, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (reviewStatus === \"idle\") {\r\n      dispatch(fetchReviews(productId));\r\n    }\r\n  }, [reviewStatus, productId, dispatch]);\r\n\r\n  if (!product) {\r\n    return (\r\n      <section>\r\n        <h1>Product not found!</h1>\r\n      </section>\r\n    );\r\n  }\r\n  return (\r\n    <section className={classes.container}>\r\n      <div className={classes.image}>\r\n        <img src={product.image} alt={product.name} />\r\n      </div>\r\n      <article className={classes.text}>\r\n        <Typography component={\"span\"} className={classes.title}>\r\n          <div>{product.name}</div>\r\n          <div className={classes.price}>{product.price}$</div>\r\n        </Typography>\r\n        <Typography component={\"span\"} className={classes.description}>\r\n          {product.description} Lorem ipsum dolor, sit amet consectetur\r\n          adipisicing elit. At commodi soluta earum ad, repudiandae accusantium\r\n          pariatur aliquam ullam, repellat velit eaque voluptatem dignissimos\r\n          quaerat, dicta cum necessitatibus totam! Modi, ratione!\r\n        </Typography>\r\n        <div className={classes.selector}>\r\n          <Button\r\n            variant=\"contained\"\r\n            className={classes.cartButton}\r\n            onClick={() => dispatch(addToCart(product._id))}\r\n          >\r\n            Add to Cart\r\n          </Button>\r\n        </div>\r\n        <div className={classes.reviewContainer}>\r\n          {reviews ? (\r\n            reviews.map((review: Review) => {\r\n              return (\r\n                <div key={review._id} className={classes.review}>\r\n                  <Typography component=\"div\" className={classes.username}>\r\n                    {review.user.username}\r\n                  </Typography>\r\n                  <Typography component=\"div\" className={classes.reviewText}>\r\n                    {review.text}\r\n                  </Typography>\r\n                </div>\r\n              );\r\n            })\r\n          ) : (\r\n            <Typography component={\"span\"}>No reviews yet</Typography>\r\n          )}\r\n        </div>\r\n      </article>\r\n    </section>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Route, RouteComponentProps, Switch } from \"react-router-dom\";\r\nimport { AddNewProduct } from \"../../components/AddNewProduct\";\r\nimport { SingleProductPage } from \"../../components/ProductList/SingleProductPage\";\r\nexport const Product = (props: RouteComponentProps) => {\r\n  return (\r\n    <div>\r\n      <Switch>\r\n        <Route\r\n          path=\"/products/new\"\r\n          render={(props) => <AddNewProduct {...props} />}\r\n        />\r\n        <Route path=\"/products/:id/\" component={SingleProductPage} />\r\n      </Switch>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { SubmitHandler, useForm } from \"react-hook-form\";\r\nimport { RouteComponentProps, useHistory } from \"react-router\";\r\nimport { InputUser } from \"../../../interface\";\r\nimport { useAppDispatch, useAppSelector } from \"../../../redux/hooks\";\r\nimport { loginUser } from \"../../../redux/userSlice\";\r\n\r\n//  * MATERIAL UI\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport ShoppingBasketIcon from \"@material-ui/icons/ShoppingBasket\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    height: \"82vh\",\r\n    backgroundSize: \"100% auto\",\r\n    backgroundRepeat: \"repeat-y\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\",\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  helperText: {\r\n    fontSize: \"1em\",\r\n    color: \"red\",\r\n  },\r\n}));\r\n\r\nexport const Login = (props: RouteComponentProps) => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const dispatch = useAppDispatch();\r\n  const { register, handleSubmit } = useForm<InputUser>();\r\n  const { status, error } = useAppSelector((state) => state.userReducer);\r\n\r\n  const onSubmit: SubmitHandler<InputUser> = (user) => {\r\n    dispatch(loginUser(user));\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (status === \"succeeded\") {\r\n      history.push(\"/#\");\r\n    }\r\n  }, [status, history, dispatch]);\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      {status === \"succeeded\" ? (\r\n        <div className={classes.paper}>\r\n          <Avatar className={classes.avatar}>\r\n            <CheckCircleIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            You signed up successfully\r\n          </Typography>\r\n        </div>\r\n      ) : (\r\n        <div className={classes.paper}>\r\n          <Avatar className={classes.avatar}>\r\n            <ShoppingBasketIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Sign in\r\n          </Typography>\r\n          <form\r\n            className={classes.form}\r\n            onSubmit={handleSubmit(onSubmit)}\r\n            noValidate\r\n          >\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              label=\"Username\"\r\n              autoFocus\r\n              {...register(\"name\")}\r\n            />\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              label=\"Password\"\r\n              type=\"password\"\r\n              {...register(\"password\")}\r\n              FormHelperTextProps={{\r\n                className: classes.helperText,\r\n              }}\r\n              helperText={error}\r\n            />\r\n            <Button\r\n              type=\"submit\"\r\n              value=\"Login\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n            >\r\n              Sign In\r\n            </Button>\r\n            <Grid container>\r\n              <Grid item>\r\n                <Link href=\"/user/register\" variant=\"body2\">\r\n                  {\"Don't have an account? Sign Up\"}\r\n                </Link>\r\n              </Grid>\r\n            </Grid>\r\n          </form>\r\n        </div>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport { Login } from \"../../../components/User/Login\";\r\nexport const LoginRoute = (props: RouteComponentProps) => {\r\n  return <Login {...props} />;\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { SubmitHandler, useForm } from \"react-hook-form\";\r\nimport { RouteComponentProps, useHistory } from \"react-router\";\r\nimport { useAppDispatch, useAppSelector } from \"../../../redux/hooks\";\r\nimport { registerUser, selectUser } from \"../../../redux/userSlice\";\r\nimport { InputUser } from \"../../../interface\";\r\n// * MATERIAL UI\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport ShoppingBasketIcon from \"@material-ui/icons/ShoppingBasket\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    height: \"82vh\",\r\n    backgroundSize: \"100% auto\",\r\n    backgroundRepeat: \"repeat-y\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\",\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  helperText: {\r\n    color: \"red\",\r\n    fontSize: \"1em\",\r\n  },\r\n}));\r\n\r\nexport const Register = (props: RouteComponentProps) => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const dispatch = useAppDispatch();\r\n  const token = useAppSelector(selectUser);\r\n  const { status, error } = useAppSelector((state) => state.userReducer);\r\n  console.log(status);\r\n  console.log(error);\r\n  const { register, handleSubmit } = useForm<InputUser>();\r\n  const onSubmit: SubmitHandler<InputUser> = (user) => {\r\n    dispatch(registerUser(user));\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (status === \"succeeded\") {\r\n      history.push(\"/\");\r\n    }\r\n  }, [status, dispatch, history, token]);\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      {status === \"succeeded\" ? (\r\n        <div className={classes.paper}>\r\n          <Avatar className={classes.avatar}>\r\n            <CheckCircleIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            You signed up successfully\r\n          </Typography>\r\n        </div>\r\n      ) : (\r\n        <div className={classes.paper}>\r\n          <Avatar className={classes.avatar}>\r\n            <ShoppingBasketIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Sign up\r\n          </Typography>\r\n          <form className={classes.form} onSubmit={handleSubmit(onSubmit)}>\r\n            <TextField\r\n              variant=\"outlined\"\r\n              required={true}\r\n              fullWidth\r\n              autoFocus\r\n              margin=\"normal\"\r\n              label=\"Username\"\r\n              type=\"text\"\r\n              {...register(\"name\")}\r\n            />\r\n            <TextField\r\n              variant=\"outlined\"\r\n              required={true}\r\n              fullWidth\r\n              margin=\"normal\"\r\n              label=\"Password\"\r\n              type=\"password\"\r\n              FormHelperTextProps={{\r\n                className: classes.helperText,\r\n              }}\r\n              helperText={error}\r\n              {...register(\"password\")}\r\n            />\r\n            <Button\r\n              className={classes.submit}\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n            >\r\n              Sign Up\r\n            </Button>\r\n          </form>\r\n        </div>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport { Register } from \"../../../components/User/Register\";\r\nexport const RegisterRoute = (props: RouteComponentProps) => {\r\n  return <Register {...props} />;\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { Avatar, makeStyles, Theme, Typography } from \"@material-ui/core\";\r\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\r\nimport { RouteComponentProps, useHistory } from \"react-router-dom\";\r\nimport { useAppDispatch } from \"../../../redux/hooks\";\r\nimport { logoutUser } from \"../../../redux/userSlice\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    height: \"100vh\",\r\n    backgroundSize: \"100% auto\",\r\n    backgroundRepeat: \"repeat-y\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n}));\r\n\r\nexport const Logout = (props: RouteComponentProps) => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const dispatch = useAppDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(logoutUser());\r\n    setTimeout(() => {\r\n      history.push(\"/\");\r\n    }, 1000);\r\n  }, [history, dispatch]);\r\n\r\n  return (\r\n    <div className={classes.paper}>\r\n      <Avatar className={classes.avatar}>\r\n        <CheckCircleIcon />\r\n      </Avatar>\r\n      <Typography component=\"h1\" variant=\"h5\">\r\n        You signed out successfully\r\n      </Typography>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport { Logout } from \"../../../components/User/Logout\";\r\nexport const LogoutRoute = (props: RouteComponentProps) => {\r\n  return <Logout {...props} />;\r\n};\r\n","import React from \"react\";\r\nimport { Route, RouteComponentProps, Switch } from \"react-router-dom\";\r\nimport { LoginRoute } from \"./Login\";\r\nimport { RegisterRoute } from \"./Register\";\r\nimport { LogoutRoute } from \"./Logout\";\r\nexport const User = (props: RouteComponentProps) => {\r\n  return (\r\n    <div>\r\n      <Switch>\r\n        <Route\r\n          path=\"/user/login\"\r\n          render={(props) => <LoginRoute {...props} />}\r\n        />\r\n        <Route\r\n          path=\"/user/register\"\r\n          render={(props) => <RegisterRoute {...props} />}\r\n        />\r\n        <Route\r\n          path=\"/user/logout\"\r\n          render={(props) => <LogoutRoute {...props} />}\r\n        />\r\n      </Switch>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { RouteComponentProps, useHistory } from \"react-router-dom\";\r\nimport { useAppDispatch, useAppSelector } from \"../../redux/hooks\";\r\nimport {\r\n  checkout,\r\n  getTotalPrice,\r\n  removeFromCart,\r\n  updateQuantity,\r\n} from \"../../redux/cartSlice\";\r\n\r\n// * MATERIAL UI\r\nimport { makeStyles, Theme, createStyles } from \"@material-ui/core\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport Button from \"@mui/material/Button\";\r\n\r\nexport const useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    page: {\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n      justifyContent: \"center\",\r\n    },\r\n    table: {\r\n      width: \"600px\",\r\n      backgroundColor: \"#f1f1f1\",\r\n      margin: \"0 auto\",\r\n      borderRadius: \"1em\",\r\n      padding: \"1em\",\r\n      borderSpacing: \"5px\",\r\n      marginBottom: \"2em\",\r\n      \"& tbody, & td\": {\r\n        padding: \"0.5em\",\r\n        backgroundColor: \"white\",\r\n      },\r\n      \"& tfoot, & td\": {\r\n        fontWeight: \"bold\",\r\n      },\r\n    },\r\n    total: { color: \"green\" },\r\n    button: {\r\n      border: \"none\",\r\n      fontSize: \"24px\",\r\n      padding: \"1em\",\r\n    },\r\n    form: {\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n    },\r\n    input: { fontSize: \"1em\", width: \"3em\" },\r\n    errorBox: { color: \"red\" },\r\n  })\r\n);\r\n\r\nexport const Cart = (props: RouteComponentProps) => {\r\n  const classes = useStyles();\r\n  const dispatch = useAppDispatch();\r\n  const history = useHistory();\r\n  const cart = useAppSelector((state) => state.cartReducer.items);\r\n  // console.log(cart);\r\n  const products = useAppSelector((state) => state.productsReducer.entities);\r\n  const totalPrice = useAppSelector(getTotalPrice);\r\n  const checkoutState = useAppSelector(\r\n    (state) => state.cartReducer.checkoutState\r\n  );\r\n  console.log(checkoutState);\r\n  function onQuantityChange(e: React.FocusEvent<HTMLInputElement>, id: string) {\r\n    const quantity = Number(e.target.value) || 0;\r\n    dispatch(updateQuantity({ id, quantity }));\r\n  }\r\n\r\n  function onCheckout(e: React.FormEvent<HTMLFormElement>) {\r\n    e.preventDefault();\r\n    dispatch(checkout());\r\n    history.push(\"/checkout\");\r\n  }\r\n\r\n  return (\r\n    <main className={classes.page}>\r\n      <h1>Shopping Cart</h1>\r\n      <table className={classes.table}>\r\n        <thead>\r\n          <tr>\r\n            <th>Product</th>\r\n            <th>Quantity</th>\r\n            <th>Price</th>\r\n            <th>Remove</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {Object.entries(cart).map(([id, quantity]) => (\r\n            <tr>\r\n              <td>{products[id]?.name} </td>\r\n              <td>\r\n                <input\r\n                  type=\"number\"\r\n                  min=\"0\"\r\n                  max={products[id]?.quantity}\r\n                  className={classes.input}\r\n                  defaultValue={quantity}\r\n                  onBlur={(e) => onQuantityChange(e, id)}\r\n                />\r\n              </td>\r\n              <td>${products[id]?.price} </td>\r\n              <td>\r\n                <button\r\n                  aria-label={`Remove ${products[id]?.name}  from Shopping Cart`}\r\n                  onClick={() => dispatch(removeFromCart(id))}\r\n                >\r\n                  <DeleteIcon />\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n        {cart && (\r\n          <tfoot>\r\n            <tr>\r\n              <td>Total</td>\r\n              <td></td>\r\n              <td className={classes.total}>${totalPrice}</td>\r\n              <td></td>\r\n            </tr>\r\n          </tfoot>\r\n        )}\r\n      </table>\r\n      <form onSubmit={onCheckout}>\r\n        {cart === {} || checkoutState === \"pending\" ? (\r\n          <Button disabled>Checkout</Button>\r\n        ) : (\r\n          <Button type=\"submit\" variant=\"contained\">\r\n            Checkout\r\n          </Button>\r\n        )}\r\n      </form>\r\n    </main>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Route, RouteComponentProps, Switch } from \"react-router-dom\";\r\nimport { Cart } from \"../../components/Cart\";\r\nexport const CartRoute = (props: RouteComponentProps) => {\r\n  return (\r\n    <div>\r\n      <Switch>\r\n        <Route path=\"/cart\" render={(props) => <Cart {...props} />} />\r\n      </Switch>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { Avatar, makeStyles, Theme, Typography } from \"@material-ui/core\";\r\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\r\nimport { RouteComponentProps, useHistory } from \"react-router-dom\";\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    height: \"100vh\",\r\n    backgroundSize: \"100% auto\",\r\n    backgroundRepeat: \"repeat-y\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n}));\r\nexport const Checkout = (props: RouteComponentProps) => {\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      history.push(\"/\");\r\n    }, 5000);\r\n  }, [history]);\r\n  return (\r\n    <div className={classes.paper}>\r\n      <Avatar className={classes.avatar}>\r\n        <CheckCircleIcon />\r\n      </Avatar>\r\n      <Typography component=\"h1\" variant=\"h5\">\r\n        You have checked out successfully. Please check your email for more\r\n        information!\r\n      </Typography>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport { Checkout } from \"../../components/Checkout\";\r\n\r\nexport const CheckoutRoute = (props: RouteComponentProps) => {\r\n  return (\r\n    <div>\r\n      <Checkout {...props} />\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport { Navbar } from \"../components/Navbar\";\r\nimport { ProductsList } from \"../components/ProductList\";\r\nimport { Product } from \"./product\";\r\nimport { User } from \"./user/User\";\r\nimport { CartRoute } from \"./cart\";\r\nimport { CheckoutRoute } from \"./checkout/checkout\";\r\nexport const HomePage: React.FC = (): JSX.Element => (\r\n  <div>\r\n    <Navbar />\r\n    <div>\r\n      <Switch>\r\n        <Route exact path=\"/\" component={ProductsList} />\r\n        <Route path=\"/user\" render={(props) => <User {...props} />} />\r\n        <Route path=\"/products\" component={Product} />\r\n        <Route path=\"/cart\" render={(props) => <CartRoute {...props} />} />\r\n        <Route\r\n          path=\"/checkout\"\r\n          render={(props) => <CheckoutRoute {...props} />}\r\n        />\r\n      </Switch>\r\n    </div>\r\n  </div>\r\n);\r\n","import React from \"react\";\r\nimport { HomePage } from \"./page/HomePage\";\r\n\r\nconst App: React.FC = (): JSX.Element => {\r\n  return <HomePage />;\r\n};\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { combineReducers } from \"redux\";\r\nimport productsReducer from \"./productsSlice\";\r\nimport reviewReducer from \"./reviewsSlice\";\r\nimport userReducer from \"./userSlice\";\r\nimport cartReducer from \"./cartSlice\";\r\n\r\nconst rootReducer = combineReducers({\r\n  productsReducer,\r\n  reviewReducer,\r\n  userReducer,\r\n  cartReducer,\r\n});\r\n\r\nexport default rootReducer;\r\nexport type RootState = ReturnType<typeof rootReducer>;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport rootReducer from \"./rootReducer\";\r\nimport { loadState, saveState } from \"./localStorage\";\r\nimport throttle from \"lodash/throttle\";\r\n\r\nconst persistedState = loadState();\r\n\r\nconst store = configureStore({\r\n  reducer: rootReducer,\r\n  preloadedState: persistedState,\r\n});\r\nstore.subscribe(\r\n  throttle(() => {\r\n    saveState({\r\n      cartReducer: store.getState().cartReducer,\r\n    });\r\n  }, 5000)\r\n);\r\n\r\nexport default store;\r\n\r\nexport type AppDispatch = typeof store.dispatch;\r\n","export const loadState = () => {\r\n  try {\r\n    const serializedState = localStorage.getItem(\"state\");\r\n    if (serializedState === null) {\r\n      return undefined;\r\n    }\r\n    return JSON.parse(serializedState);\r\n  } catch (e) {\r\n    return undefined;\r\n  }\r\n};\r\n\r\nexport const saveState = (state: any) => {\r\n  try {\r\n    const serializedState = JSON.stringify(state);\r\n    localStorage.setItem(\"state\", serializedState);\r\n  } catch (e) {\r\n    // Ignore write errors;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { HashRouter } from \"react-router-dom\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport store from \"./redux/store\";\r\nimport { Provider } from \"react-redux\";\r\nimport config from \"./config\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <HashRouter basename={config.publicURL}>\r\n        <App />\r\n      </HashRouter>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}